---
import updates from "../data/updates.json";
const latest = updates.slice(0, 3);
---
<section id="updates" class="home-updates">
  <div class="hdr">
    <h2>Updates</h2>
    <a class="btn" href="/updates" aria-label="Lihat semua updates">Lihat semua</a>
  </div>

  <ul class="grid">
    {latest.map((u) => (
      <li class="card">
        <!-- Seluruh kartu jadi link ke /updates -->
        <a href="/updates" aria-label={`Buka halaman Updates: ${u.title}`}>
          <small>{u.tag} Â· {u.date}</small>
          <h3>{u.title}</h3>
          <p>{u.excerpt}</p>
        </a>
      </li>
    ))}
  </ul>
</section>

<style>
  .home-updates{margin-block:48px}
  .hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
  .btn{padding:8px 12px;border:1px solid var(--border,#e7e7ef);border-radius:10px;text-decoration:none}
  .grid{list-style:none;display:grid;gap:16px;padding:0;
        grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
  .card{border:1px solid var(--border,#e7e7ef);border-radius:12px;background:var(--card-bg,rgba(0,0,0,0))}
  .card a{display:block;padding:16px;text-decoration:none;color:inherit}
  .card a:hover{background:var(--hover,rgba(0,0,0,0.035))}
  .card small{opacity:.7}
  .card h3{margin:.35rem 0 .25rem;line-height:1.25}
  .card p{margin:0;opacity:.85}
</style>
